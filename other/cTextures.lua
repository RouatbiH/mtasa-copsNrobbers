--//                                                  \\
--||   Project: MTA - Cops 'n' Robbers                ||
--||   Developers: DorteY(Lorenzo)                    ||
--||                                                  ||
--||   Since: 2019 (Lake-Gaming.com)                  ||
--\\                                                  //

local modsTable={
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/bank.dff",colpfad="files/TEXTURES/gtavBank/bank.col",modelid=3963},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankb_counter1.dff",colpfad="files/TEXTURES/gtavBank/hei_obankb_counter1.col",modelid=3961},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankbbalistrade1.dff",colpfad="files/TEXTURES/gtavBank/hei_obankbbalistrade1.col",modelid=3948},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankbbalistrade2.dff",colpfad="files/TEXTURES/gtavBank/hei_obankbbalistrade2.col",modelid=3945},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankbbanister03.dff",colpfad="files/TEXTURES/gtavBank/hei_obankbbanister03.col",modelid=3944},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankbbanister1.dff",colpfad="files/TEXTURES/gtavBank/hei_obankbbanister1.col",modelid=3943},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankbfurniture.dff",colpfad="files/TEXTURES/gtavBank/hei_obankbfurniture.col",modelid=3942},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankborntelamp2.dff",colpfad="files/TEXTURES/gtavBank/hei_obankborntelamp2.col",modelid=3923},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankborntelamp3.dff",colpfad="files/TEXTURES/gtavBank/hei_obankborntelamp3.col",modelid=3922},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankborntelamp4.dff",colpfad="files/TEXTURES/gtavBank/hei_obankborntelamp4.col",modelid=3919},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankbsafeframe.dff",colpfad="files/TEXTURES/gtavBank/hei_obankbsafeframe.col",modelid=3918},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankbstairs2.dff",colpfad="files/TEXTURES/gtavBank/hei_obankbstairs2.col",modelid=3917},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankb_arch.dff",colpfad="files/TEXTURES/gtavBank/hei_obankb_arch.col",modelid=3916},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankb_atm1.dff",colpfad="files/TEXTURES/gtavBank/hei_obankb_atm1.col",modelid=3915},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankb_cornice1.dff",colpfad="files/TEXTURES/gtavBank/hei_obankb_cornice1.col",modelid=3914},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankbsecurity.dff",colpfad="files/TEXTURES/gtavBank/hei_obankbsecurity.col",modelid=3907},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankbsafebars.dff",colpfad="files/TEXTURES/gtavBank/hei_obankbsafebars.col",modelid=3910},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/hei_obankbankarches.dff",colpfad="files/TEXTURES/gtavBank/hei_obankbankarches.col",modelid=3905},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/prop_atm_02.dff",colpfad="files/TEXTURES/gtavBank/prop_atm_02.col",modelid=3903},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/v_ilev_bk_vaultdoor.dff",colpfad="files/TEXTURES/gtavBank/v_ilev_bk_vaultdoor.col",modelid=3898},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/prop_v_5_bclock.dff",colpfad="files/TEXTURES/gtavBank/prop_v_5_bclock.col",modelid=3897},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/prop_ld_balastrude.dff",colpfad="files/TEXTURES/gtavBank/prop_ld_balastrude.col",modelid=3894},
{txdpfad="files/TEXTURES/gtavBank/bank.txd",dffpfad="files/TEXTURES/gtavBank/v_ilev_bk_gate2.dff",colpfad="files/TEXTURES/gtavBank/v_ilev_bk_gate2.col",modelid=3924},
--//Wheel mods
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_gn1.dff",colpfad=nil,modelid=1074},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_gn2.dff",colpfad=nil,modelid=1075},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_gn3.dff",colpfad=nil,modelid=1076},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_gn4.dff",colpfad=nil,modelid=1077},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_gn5.dff",colpfad=nil,modelid=1078},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_lr1.dff",colpfad=nil,modelid=1079},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_lr2.dff",colpfad=nil,modelid=1080},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_lr3.dff",colpfad=nil,modelid=1081},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_lr4.dff",colpfad=nil,modelid=1082},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_lr5.dff",colpfad=nil,modelid=1083},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_or1.dff",colpfad=nil,modelid=1025},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_sr1.dff",colpfad=nil,modelid=1084},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_sr2.dff",colpfad=nil,modelid=1085},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_sr3.dff",colpfad=nil,modelid=1096},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_sr4.dff",colpfad=nil,modelid=1097},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_sr5.dff",colpfad=nil,modelid=1098},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_sr6.dff",colpfad=nil,modelid=1073},
{txdpfad="files/TEXTURES/Wheels/rod.txd",dffpfad="files/TEXTURES/Wheels/wheel_sr7.dff",colpfad=nil,modelid=3917},
}

addEvent("cdn:onClientReady",true)
addEventHandler("cdn:onClientReady",resourceRoot,function()
	for i=1,#modsTable do
		modelid=modsTable[i].modelid
		if(modsTable[i].txdpfad~=nil)then
			txd=engineLoadTXD(modsTable[i].txdpfad)
			engineImportTXD(txd,modelid)
		end
		if(modsTable[i].dffpfad~=nil)then
			dff=engineLoadDFF(modsTable[i].dffpfad,modelid)
			engineReplaceModel(dff,modelid)
		end
		if(modsTable[i].colpfad~=nil)then
			col=engineLoadCOL(modsTable[i].colpfad,modelid)
			engineReplaceCOL(col,modelid)
		end
	end
end)


addEvent("cdn:onClientReady",true)
addEventHandler("cdn:onClientReady",resourceRoot,function()
	for _,v in ipairs(getElementsByType("vehicle"))do
		if(getElementData(v,"texture:sapd")==true)then
			local Texture1=dxCreateShader(":"..settings.general.scriptname.."/files/TEXTURES/TEXTURES.fx")
			local Texture2=dxCreateTexture(":"..settings.general.scriptname.."/files/TEXTURES/POLICETEXTURE.txd")
			dxSetShaderValue(Texture1,"Tex",Texture2)
			engineApplyShaderToWorldTexture(Texture1,"vehiclepoldecals128",v)
		end
		if(getElementData(v,"texture:patrol")==true)then
			local Texture1=dxCreateShader(":"..settings.general.scriptname.."/files/TEXTURES/TEXTURES.fx")
			local Texture2=dxCreateTexture(":"..settings.general.scriptname.."/files/TEXTURES/POLICEPATROLTEXTURE.txd")
			dxSetShaderValue(Texture1,"Tex",Texture2)
			engineApplyShaderToWorldTexture(Texture1,"vehiclepoldecals128",v)
		end
	end
	
	for _,v in ipairs(getElementsByType("object"))do
		if(getElementModel(v)==2942)then
			local ATMtexture1=dxCreateShader(":"..settings.general.scriptname.."/files/TEXTURES/TEXTURES.fx")
			local ATMtexture2=dxCreateTexture(":"..settings.general.scriptname.."/files/TEXTURES/ATM.png")
			dxSetShaderValue(ATMtexture1,"Tex",ATMtexture2)
			engineApplyShaderToWorldTexture(ATMtexture1,"kmb_atm_sign",v)
		end
	end
	
	local VEHplate1=dxCreateShader(":"..settings.general.scriptname.."/files/TEXTURES/TEXTURES.fx")
	local VEHplate2=dxCreateTexture(":"..settings.general.scriptname.."/files/TEXTURES/PLATE.png")
	dxSetShaderValue(VEHplate1,"Tex",VEHplate2)
	engineApplyShaderToWorldTexture(VEHplate1,"plateback3")
	engineApplyShaderToWorldTexture(VEHplate1,"plateback2")
	engineApplyShaderToWorldTexture(VEHplate1,"plateback1")
end)